/// <reference types="Cypress" />

import selectTool from "./actions/selectTool";
//import changeTextBox from "./actions/changeTextBox";
import deleteShapeSelecter from "./actions/deleteShape";
import addIcon from "./actions/addIcon";
import addImage from "./actions/addImage";

import loginTests from "./login.spec";
import rightPanelTests from "./rightPanel.spec";
import resizeTypeTests from "./resizeType.spec";
import saveAction from "./saveAction.spec";
import previewTests from "./preview.spec";
import drawShape from "./actions/drawShape";
import flexTests from "./flex.spec";
import artboardTests from "./artboard.spec";
import sketchImportTests from "./sketchImport.spec";
loginTests();

context("Actions", () => {
  beforeEach(function() {
    Cypress.Cookies.preserveOnce("access-token");
  });

  it("can draw a Rectangle", function() {
    cy.get(".bx-artboard-Untitled > .view-render > .view-render").should(
      "not.exist"
    );
    selectTool("rectangle");
    drawShape();
    cy.get(".bx-artboard-Untitled > .view-render > .view-render").should(
      "exist"
    );
  });
  it("can delete the created Rectangle", function() {
    cy.get(".bx-artboard-Untitled > .view-render > .view-render").should(
      "exist"
    );
    deleteShapeSelecter(".bx-artboard-Untitled > .view-render > .view-render");
    cy.get(".bx-artboard-Untitled > .view-render > .view-render").should(
      "not.exist"
    );
  });

  it("can draw an ellipse", function() {
    cy.get(".bx-artboard-Untitled > .view-render > svg > ellipse").should(
      "not.exist"
    );
    selectTool("ellipse");
    drawShape();
    cy.get(".bx-artboard-Untitled > .view-render > svg > ellipse").should(
      "exist"
    );
  });
  it(" can delete the created ellipse", function() {
    cy.get(".bx-artboard-Untitled > .view-render > svg > ellipse").should(
      "exist"
    );

    deleteShapeSelecter(".bx-artboard-Untitled > .view-render > svg > ellipse");
    cy.get(".bx-artboard-Untitled > .view-render > svg > ellipse").should(
      "not.exist"
    );
  });

  it("can draw an text box", function() {
    cy.get(".bx-artboard-Untitled > .view-render > .text-here").should(
      "not.exist"
    );
    selectTool("text");
    drawShape();
    cy.get(".bx-artboard-Untitled > .view-render > .text-here").should("exist");
  });

  // it(" can change text in the created textbox", function() {
  //   cy.get(".bx-artboard-Untitled > .view-render > .text-here").should("exist");
  //   changeTextBox();
  //   cy.get(".bx-artboard-Untitled > .view-render > .text-here")
  //     .contains("changed test string")
  //     .should("exist");
  // });

  it(" can delete the created textbox", function() {
    cy.get(".bx-artboard-Untitled > .view-render > .text-here").should("exist");

    deleteShapeSelecter(".bx-artboard-Untitled > .view-render > .text-here");
    cy.get(".bx-artboard-Untitled > .view-render > .text-here").should(
      "not.exist"
    );
  });

  it(" can insert an icon", function() {
    cy.get(
      ".bx-artboard-Untitled > .view-render > div[type=MaterialCommunityIcons]"
    ).should("not.exist");
    selectTool("icon");
    addIcon();
    cy.get(
      ".bx-artboard-Untitled > .view-render > div[type=MaterialCommunityIcons]"
    ).should("exist");
  });

  it(" can delete an icon", function() {
    cy.get(
      ".bx-artboard-Untitled > .view-render > div[type=MaterialCommunityIcons]"
    ).should("exist");

    deleteShapeSelecter(
      ".bx-artboard-Untitled > .view-render > div[type=MaterialCommunityIcons]"
    );
    cy.get(
      ".bx-artboard-Untitled > .view-render > div[type=MaterialCommunityIcons]"
    ).should("not.exist");
  });

  it(" can insert an image", function() {
    cy.get(".bx-artboard-Untitled > .view-render > div").should("not.exist");
    addImage();
    cy.get(".bx-artboard-Untitled > .view-render > div").should("exist");
  });

  it("can delete the inserted image", function() {
    cy.get(".bx-artboard-Untitled > .view-render > div").should("exist");
    deleteShapeSelecter(".bx-artboard-Untitled > .view-render > div");
    cy.get(".bx-artboard-Untitled > .view-render > div").should("not.exist");
  });
});
// artboardTests();
rightPanelTests();
// resizeTypeTests();
// flexTests();
// sketchImportTests();
saveAction();
previewTests();
