import { isEmpty, forEach } from "lodash";

export default function getArtboardsList(metaData: any): Array<any> {
  try {
    if (!metaData || isEmpty(metaData)) {
      return [];
    }
    let allPagesAndArtboards = metaData.pagesAndArtboards;
    if (isEmpty(allPagesAndArtboards)) {
      return [];
    }
    let artboardsList: Array<{ id: string; name: string }> = [];
    forEach(allPagesAndArtboards, (value: any, key: any) => {
      if (value.name !== "Symbols" && value.artboards) {
        forEach(value.artboards, (nestVal: any, id: any) => {
          artboardsList.push({ id, name: nestVal.name });
        });
      }
    });
    return artboardsList;
  } catch (error) {
    console.log(
      "Error in getting artboards list, can't reading Meta file",
      error
    );
    return error;
  }
}
