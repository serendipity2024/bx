import * as React from "react";
import { apiSdk } from "@builderx-core/api-sdk";
import { Session, Views } from "../lib";

// import Configuration from "./ConfigurationService";
// import {
//   RecentProjects,
//   FileService,
//   Dialog,
//   AppUpdaterService,
//   UserService,
//   DeviceDetailService,
//   AppLifecycleService,
//   GradientService,
//   Sentry,
//   OffScreenRendererService,
//   AnalyticsService,
//   ClipboardService
// } from "./DummyClasses";

const config = {
  serverUrl: "http://localhost:9090/",
  bxApiUrl: "http://pre-cloud.builderx.io/api",
  env: "development",
  runningContext: "session",
  isSharedComponentInstance: false
};

const session = new Session(config, apiSdk, {
  WEBSITE_URL: "",
  SUPPORT_URL: "",
  APP_PORT_START: "",
  APP_PORT_END: "",
  APP_URL: "",
  APP_STATIC_URL: "",
  BUILDERX_ASSETS_URL: "",
  APP_ENVIRONMENT: "",
  BUILDERX_FONT_API_KEY: "",
  BUILDERX_API: "",
  GA_TRACKING_ID: "",
  SENTRY_URL: "",
  BUILDERX_URL: "",
  BACKEND_API_URL: ""
});
// session.drivers = {
//   configuration: new Configuration(),
//   recentProjects: new RecentProjects(),
//   fileService: new FileService(),
//   dialog: new Dialog(),
//   contextMenu: {},
//   analyticsService: new AnalyticsService(),
//   userService: new UserService(),
//   offScreenRendererService: new OffScreenRendererService(),
//   deviceDetailService: new DeviceDetailService(),
//   appUpdaterService: new AppUpdaterService(),
//   appLifeCycleService: new AppLifecycleService(),
//   gradientService: new GradientService(),
//   Sentry: new Sentry()
// };

session.systemFonts = [
  {
    path: "/Library/Fonts/Arial Bold.ttf",
    postscriptName: "Arial-BoldMT",
    family: "Arial",
    style: "Bold",
    weight: 700,
    width: 5,
    italic: false,
    monospace: false
  }
];

// window["session"] = session;
const contextMenuAdapter = () => {
  return [
    {
      label: "Label 1",
      visible: true,
      shortcut: "⌘ ⇧ G",
      click: () => {
        console.log("Label 1");
      }
    },
    { type: "separator" },
    {
      label: "Label 2",
      visible: true,
      click: () => {
        console.log("Label 2");
      },
      submenu: [
        {
          label: "Sub menu Label 1",
          visible: true,
          shortcut: "⌘ ⇧ P",
          click: () => {
            console.log("Sub menu Label 1");
          }
        },
        { type: "separator" },
        {
          label: "Sub menu Label 2",
          visible: true,
          click: () => {
            console.log("Sub menu Label 2");
          }
        }
      ]
    }
  ];
};

class App extends React.Component<any, any> {
  public render() {
    return <Views session={session} sharedComponentSession={session} />;
  }
}

export default App;
