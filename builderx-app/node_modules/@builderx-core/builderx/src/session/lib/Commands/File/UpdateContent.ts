import { ICommand } from "command-manager";
import { Session } from "../../models/Session";

export default class UpdateContent implements ICommand {
  displayName = "UpdateContent";
  private session: Session;
  private newContent: string;
  private fileId: string;
  constructor(session: Session, fileId: string, newContent: string) {
    this.session = session;
    this.newContent = newContent;
    this.fileId = fileId;
  }
  execute() {
    if (this.session.domain.files.has(this.fileId)) {
      const file = this.session.domain.getFileFromFileId(this.fileId);
      if (!file) {
        return;
      }
      file.content = this.newContent;
      file.emit("content");
    }
  }
  redo() {
    //
  }
  undo() {
    //
  }
}
