import { DomainFile } from "domain-x";
import { Session } from "../../models/Session";
import { ICommand } from "command-manager";
import SetStatusBarMutator from "../../Mutators/SetStatusBarMutator";

export default class SetStatusBar implements ICommand {
  displayName = "SetStatusBar";
  private session: Session;
  private filePath: string;
  private newValue: any;
  private oldValue: any;

  constructor(session: Session, file: DomainFile, value: any) {
    this.session = session;
    this.filePath = file.path;
    this.newValue = value;
    this.oldValue = file.statusBar;
  }
  execute() {
    SetStatusBarMutator(this.session, this.filePath, this.newValue);
  }
  undo() {
    SetStatusBarMutator(this.session, this.filePath, this.oldValue);
  }
  redo() {
    SetStatusBarMutator(this.session, this.filePath, this.newValue);
  }
}
