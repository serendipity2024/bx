import { Session } from "../../models/Session";
import { ICommand } from "command-manager";

export default class RenameProjectName implements ICommand {
  displayName = "RenameProjectName";
  private session: Session;
  private newName: string;
  constructor(session: Session, newName: string) {
    this.session = session;
    this.newName = newName;
  }
  execute() {
    try {
      // this.session.drivers.fileService.renameProject(
      //   this.session.project.projectId,
      //   this.newName
      // );
      this.session.executeFunction("renameProject", this.newName);
      this.session.project.projectName = this.newName;
      document.title = this.session.project.projectName + " - BuilderX";
      this.session.project.emit("projectName");
      this.session.drivers.analyticsService.addActivity(
        {
          name: `project.rename`,
          path: "",
          category: "app/command"
        },
        true
      );
    } catch (error) {
      console.error("Error in renaming project", error);
    }
  }
  undo() {
    //
  }
  redo() {
    //
  }
}
