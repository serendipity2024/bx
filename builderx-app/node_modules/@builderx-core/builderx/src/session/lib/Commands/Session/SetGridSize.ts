import { ICommand } from "command-manager";
import { Session } from "../../models/Session";
// import { action } from "model";
import { SetGridSizeMutator } from "../../Mutators";

type GridSizeData = {
  x?: number;
  y?: number;
};

export default class SetGridSize implements ICommand {
  displayName = "SetGridSize";
  session: Session;
  gridSizeData: GridSizeData;
  constructor(session: Session, gridSizeData: GridSizeData) {
    this.session = session;
    this.gridSizeData = gridSizeData;
  }
  execute() {
    const gridSize = this.gridSizeData;
    SetGridSizeMutator(this.session, {
      x: gridSize.x
        ? gridSize.x
        : this.session.drivers.configuration.get("editor.grid.row"),
      y: gridSize.y
        ? gridSize.y
        : this.session.drivers.configuration.get("editor.grid.column")
    });
  }
  undo() {
    // nope
  }
  redo() {
    // nope
  }
}
