import { get } from "lodash";
import SetFileCode from "./../CommandServices/SetFileCode";
import { Session } from "../../models/Session";
import createService from ".";
import SelectLayersService from "./SelectLayersService";

const SelectRootLayer = createService("SelectRootLayer", (session: Session) => {
  const rootLayer = get(session, "currentRootLayer");
  if (rootLayer) {
    SelectLayersService(session, [rootLayer.getFullPath()]);
  }

  if (session.showCodeEditor) {
    SetFileCode(session);
  }
});

export default SelectRootLayer;
