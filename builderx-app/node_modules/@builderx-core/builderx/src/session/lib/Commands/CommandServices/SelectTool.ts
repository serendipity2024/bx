import { Session } from "../../models/Session";
import { SetDrawTypeMutator } from "../../Mutators";
import createService from ".";
type toolType =
  | "default"
  | "view"
  | "ellipse"
  | "image"
  | "text"
  | "icon"
  | "path"
  | "switch"
  | "activityIndicator"
  | "slider"
  | "mapView"
  | "scrollView"
  | "touchableOpacity"
  | "textInput";

const SelectTool = createService(
  "SelectTool",
  (session: Session, toolName: toolType, abortDraw?: boolean) => {
    const currentStage = session.currentStage;
    if (abortDraw && currentStage.tools.selectedTool === "default") {
      return;
    }
    if (currentStage.tools.selectedTool !== toolName) {
      currentStage.tools.selectedTool = toolName;
      SetDrawTypeMutator(session, toolName, abortDraw);
    }
  }
);
export default SelectTool;
