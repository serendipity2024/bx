import { Session } from "../../models/Session";
import { File as DomainFile } from "domain-x";
import createService from ".";
export const GetNextArtboard = createService(
  "GetNextArtboard",
  (session: Session) => {
    let nextFile: DomainFile | undefined = undefined;
    let next = false;
    session.domain.files.forEach((file: DomainFile) => {
      if (file.isArtboard()) {
        if (nextFile) {
          return;
        }
        if (next) {
          nextFile = file;
        }
        if (file === session.selectedFile) {
          next = true;
        }
      }
    });
    return nextFile;
  }
);

export const GetPreviousArtboard = createService(
  "GetPreviousArtboard",
  (session: Session) => {
    const selectedFile = session.selectedFile;

    let prevFile: DomainFile | undefined = undefined;
    let prev = false;
    session.domain.files.forEach((file: DomainFile) => {
      if (file.isArtboard()) {
        if (file === selectedFile) {
          prev = true;
        }
        if (prev) {
          return;
        }
        prevFile = file;
      }
    });
    return prevFile;
  }
);
