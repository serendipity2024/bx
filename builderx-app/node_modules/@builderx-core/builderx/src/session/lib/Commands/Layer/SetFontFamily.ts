import { ICommand, CommandManager } from "command-manager";
import { Session } from "session";
import { Layer } from "domain-x";
import { SetStyleAttribute } from "..";
export default class SetFontFamily implements ICommand {
  private session: Session;
  private layer: Layer;
  private payload: {
    fontStyle: string;
    fontFamily: string;
    fontWeight: string;
  };
  displayName: string = "SetFontFamily";
  private commandManager: CommandManager;
  constructor(session: Session, layer: Layer, payload: any) {
    this.session = session;
    this.payload = payload;
    this.commandManager = new CommandManager();
  }
  execute() {
    this.commandManager.execute(
      new SetStyleAttribute(
        this.session,
        this.layer,
        "fontFamily",
        this.payload.fontFamily
      )
    );
    this.commandManager.execute(
      new SetStyleAttribute(
        this.session,
        this.layer,
        "fontWeight",
        this.payload.fontWeight
      )
    );
    this.commandManager.execute(
      new SetStyleAttribute(
        this.session,
        this.layer,
        "fontStyle",
        this.payload.fontStyle
      )
    );
  }
  undo() {
    this.commandManager.undoAll();
  }
  redo() {
    this.commandManager.redoAll();
  }
}
