import { ICommand } from "command-manager";
import { Session } from "../../models/Session";
import { Layer } from "domain-x";
import { GetImageAbsPath } from "../CommandServices/GetImagePath";
export default class GenerateGradientImage implements ICommand {
  displayName = "GenerateGradientImage";
  private session: Session;
  private domainLayerPath: any;
  constructor(session: Session, domainLayer: Layer) {
    this.session = session;
    this.domainLayerPath = domainLayer.getFullPath();
  }
  async execute() {
    const domainLayer = this.session.getLayerFromLayerPath(
      this.domainLayerPath
    );
    if (domainLayer.gradient) {
      if (domainLayer.gradient.getGradientValue()) {
        GetImageAbsPath(this.session, domainLayer.gradient.imageName);
      }
    }
    this.session.drivers.analyticsService.addActivity(
      {
        name: `generate.gradient.image`,
        path: "",
        category: "app/command"
      },
      true
    );
  }
  undo() {
    //
  }
  redo() {
    //
  }
}
