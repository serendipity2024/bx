import { ICommand } from "command-manager";
import { Session } from "../../models/Session";
import { File } from "domain-x";
import SelectFileService from "../CommandServices/SelectFile";
import GenerateLayerPreview from "../CommandServices/GenerateLayerPreview";

export default class SelectFile implements ICommand {
  displayName = "SelectFile";
  session: Session;
  file: File;
  filePath: string;
  constructor(session: Session, file: File) {
    this.session = session;
    this.file = file;
    this.filePath = file.path;
  }
  execute() {
    // const domainFile
    SelectFileService(this.session, this.filePath);
    if (this.session.showCodeEditor) {
      GenerateLayerPreview(this.session, [
        this.session.currentRootLayer.getFullPath()
      ]);
    }
  }
  undo() {
    // nope
  }
  redo() {
    // nope
  }
}
