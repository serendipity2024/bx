import { ICommand } from "command-manager";
import { Session } from "../../models/Session";
import CommandKeyMapperService from "../../services/CommandKeyMapperService";

export default class UnlockProject implements ICommand {
  displayName = "UnlockProject";
  session: Session;
  constructor(session: Session) {
    this.session = session;
  }

  execute() {
    this.session.project.isLocked = false;
    this.session.readonly = false;

    this.session.commandKeyMapperService = new CommandKeyMapperService(
      this.session,
      this.session.commandManager
    );
    this.session.emit("projectLock");
  }
  undo() {
    // nope
  }
  redo() {
    // nope
  }
}
