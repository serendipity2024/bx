import * as React from "react";

import {
  WindowWrapper,
  WindowBody,
  Pane,
  Logo,
  Title,
  SubTitle,
  Iframe,
  FormGroup,
  FormRow,
  Checkbox,
  CheckboxTick,
  CheckboxLabel,
  WindowFooter,
  ButtonGroup,
  Button,
  Window,
  Scrollbars
} from "components-x";

export default class TermsAndConditions extends React.Component<any, any> {
  constructor(props: any) {
    super(props);
    this.state = {
      isChecked: false
    };
  }
  handleCheckbox() {
    this.setState({
      isChecked: !this.state.isChecked
    });
  }
  keyPress(e: any) {
    // e.preventDefault();
    if (e.charCode === 13 && this.state.isChecked) {
      this.props.registerUser();
    }
  }

  render() {
    return (
      <Scrollbars autoHide style={{ width: "100%", height: "100%" }}>
        <WindowWrapper>
          <Window uiSize={"l"} uiBackground={800}>
            <WindowBody>
              <Pane contentCenter={true} uiBackground={800} padder="s">
                <Logo
                  src={this.props.builderxAssetsUrl + "/images/logo.png"}
                  uiSize="l"
                />
                <Title uiSize="m">BuilderX v{this.props.appVersion}</Title>
                <SubTitle marginTop={true} uiColor={200} uiSize="s">
                  User's Acknowledgment and Acceptance of Terms
                </SubTitle>

                <Iframe
                  id="TermsAndConditions"
                  src={this.props.builderxUrl + "terms-app"}
                />

                <FormGroup noPadding>
                  <FormRow noPadding>
                    <Checkbox>
                      <CheckboxTick
                        checked={this.state.isChecked}
                        onChange={() => this.handleCheckbox()}
                      />
                      <CheckboxLabel uiSize={"m"}>
                        I accept terms and conditions
                      </CheckboxLabel>
                    </Checkbox>
                  </FormRow>
                </FormGroup>
              </Pane>
            </WindowBody>
            <WindowFooter uiBackground={800}>
              <Pane padder="xs" uiBackground={800}>
                <ButtonGroup contentRight={true}>
                  <Button
                    marginRight={true}
                    borderRadius={true}
                    uiBackground={600}
                    border={true}
                    caption="Disagree & Quit"
                    minWidth={true}
                    uiSize="m"
                    onClick={this.props.closeTermsAndConditions}
                  />
                  <Button
                    actionBtn={true}
                    uiBackground={500}
                    borderRadius={true}
                    border={true}
                    caption="Agree"
                    minWidth={true}
                    uiSize="m"
                    onClick={this.props.registerUser}
                    disabled={!this.state.isChecked}
                    active
                  />
                </ButtonGroup>
              </Pane>
            </WindowFooter>
          </Window>
        </WindowWrapper>
      </Scrollbars>
    );
  }
}
