import { Session } from "../models/Session";
import { SetFileDirtyMutator } from ".";
import { SessionEvent } from "event-manager";
import { Utils } from "utils";
import { Import } from "domain-x";

export default function SetResizingTypeMutator(
  session: Session,
  layerPath: string,
  styleJSON: any
) {
  const layer = session.getLayerFromLayerPath(layerPath);
  if (!layer) {
    return;
  }

  // const layer = session.getLayerFromLayerPath(layerPath);

  session.emitPatch({
    op: "replace",
    path: `/domain/files:::${Utils.modifyLayerPathForJsonPatch(
      layerPath
    )}/ui/resizingType`,
    value: {
      type: "class",
      className: "ResizingType",
      value: styleJSON
    }
  });

  // layer.emit("styleName");

  // SetFileDirtyMutator(session, file.path, true);
}
