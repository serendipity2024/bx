import { IMutator } from "common-interfaces";
import { Session } from "../models/Session";
import { SessionEvent } from "event-manager";

export default function SetSnapMutator(
  session: Session,
  key: "parent" | "sibling" | "grid" | "gutter" | "ruler",
  value: boolean
) {
  // session.drivers.configuration.set("editor.snap." + key, value);
  session.emitPatch({
    op: "replace",
    path: `/drivers/configuration/configurations/${"editor.snap." + key}`,
    value: value
  });

  // session.drivers.configuration.emit("editor.snap." + key);

  // const event = new SessionEvent("setSnap", {
  //   key,
  //   value
  // });
  // session.eventManager.dispatchEvent("setSnap", event);
}
