import { Session } from "../models/Session";
import { SetFileDirtyMutator } from ".";
import { SessionEvent } from "event-manager";
import { Utils } from "utils";
import { Import } from "domain-x";

export default function SetDbFileIdMutator(
  session: Session,
  filePath: string,
  dbFileId: string
) {
  const file = session.domain.files.get(filePath);
  if (!file) {
    return;
  }

  session.emitPatch({
    op: "replace",
    path: `/domain/files:::${filePath}:::/dbFileId`,
    value: dbFileId
  });
}
