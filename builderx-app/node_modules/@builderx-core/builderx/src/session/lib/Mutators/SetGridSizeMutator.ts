import { IMutator } from "common-interfaces";
import { Session } from "../models/Session";
import { forEach } from "lodash";
import { Layer } from "@builderx-core/designer";
import { SessionEvent } from "event-manager";

type GridSizeData = {
  x: number;
  y: number;
};

export default function SetGridSizeMutator(
  session: Session,
  gridSizeData: GridSizeData
) {
  session.emitPatch({
    op: "replace",
    path: `/drivers/configuration/configurations/editor.grid.row`,
    value: gridSizeData.x
  });
  // session.drivers.configuration.set("editor.grid.row", gridSizeData.x);
  session.emitPatch({
    op: "replace",
    path: `/drivers/configuration/configurations/editor.grid.column`,
    value: gridSizeData.y
  });
  // session.drivers.configuration.set("editor.grid.column", gridSizeData.y);

  // const event = new SessionEvent("setGridSize", {
  //   gridSizeData
  // });
  // session.eventManager.dispatchEvent("setGridSize", event);
}
