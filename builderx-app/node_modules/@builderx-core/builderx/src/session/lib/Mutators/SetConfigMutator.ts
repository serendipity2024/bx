import { Session } from "../models/Session";
import { SessionEvent } from "event-manager";

export default function SetConfigMutator(
  session: Session,
  key: string,
  value: any
) {
  // session.drivers.configuration.set(key, value);

  session.emitPatch({
    op: "replace",
    path: `/drivers/configuration/configurations/${key}`,
    value: value
  });

  // session.drivers.configuration.emit(key);

  // const event = new SessionEvent("setConfig", {
  //   key,
  //   value
  // });

  // session.eventManager.dispatchEvent("setConfig", event);
}
