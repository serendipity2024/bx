import Worker from "../__mocks__/worker";
global["Worker"] = Worker;

import { Session } from "../lib";
import { AddLayerTest } from "../TestCases/Layer";
import { AddNewArtboardTest } from "../TestCases/File";
import {
  ChangeToFlexTest,
  UndoChangeToFlexTest,
  FillLayerWidthTest,
  UndoFillLayerTest,
  FillLayerHeightTest,
  FixLayerHeightTest,
  SetLayerHeightPercentTest,
  ChangeToAbsoluteTest
} from "../TestCases/Layout";
import KeyboardService from "../lib/services/KeyboardService";
import { layerJSONForAddLayer } from "../TestCases/Templates/Layer";
import { apiSdk } from "@builderx-core/api-sdk";
jest.mock("paper");
jest.mock("js-cookie");
const config = {
  serverUrl: "http://localhost:9080/",
  bxApiUrl: "http://release.builderx.io/api",
  env: "development",
  runningContext: "testing",
  isSharedComponentInstance: false
};
const session = new Session(config, apiSdk, {
  WEBSITE_URL: "",
  SUPPORT_URL: "",
  APP_PORT_START: "",
  APP_PORT_END: "",
  APP_URL: "",
  APP_STATIC_URL: "",
  BUILDERX_ASSETS_URL: "",
  APP_ENVIRONMENT: "",
  BUILDERX_FONT_API_KEY: "",
  BUILDERX_API: "",
  GA_TRACKING_ID: "",
  SENTRY_URL: "",
  BUILDERX_URL: "",
  BACKEND_API_URL: ""
});
// window["session"] = session;

const renderCompiledData = {
  x: 0,
  y: 0,
  width: 1000,
  height: 1000,
  children: []
};
session.keyboardService = new KeyboardService();
AddNewArtboardTest(session, session.commandManager);
AddLayerTest(session, session.commandManager, layerJSONForAddLayer);
ChangeToFlexTest(session, session.commandManager);
UndoChangeToFlexTest(session, session.commandManager);
ChangeToFlexTest(session, session.commandManager);
ChangeToAbsoluteTest(session, session.commandManager);
FillLayerWidthTest(session, session.commandManager);
UndoFillLayerTest(session, session.commandManager);
FillLayerHeightTest(session, session.commandManager);
FixLayerHeightTest(session, session.commandManager);
SetLayerHeightPercentTest(session, session.commandManager);
