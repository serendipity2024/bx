const conditionalResolver = (
  obj: any,
  parent: any,
  property: string,
  resolveWithTest: boolean = false,
  callback?: any
): any => {
  if (obj.type !== "conditionalExpression") {
    if (callback) {
      callback(obj, parent, property);
    }
    return obj;
  }

  if (resolveWithTest) {
    conditionalResolver(
      obj.alternate,
      obj,
      "alternate",
      resolveWithTest,
      callback
    );
  } else {
    conditionalResolver(
      obj.consequent,
      obj,
      "consequent",
      resolveWithTest,
      callback
    );
    conditionalResolver(
      obj.alternate,
      obj,
      "alternate",
      resolveWithTest,
      callback
    );
  }
};

export default conditionalResolver;
