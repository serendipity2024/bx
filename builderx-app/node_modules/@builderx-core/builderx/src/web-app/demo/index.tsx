import * as React from "react";
import * as ReactDOM from "react-dom";
import App from "./App";
// @ts-ignore
// import registerServiceWorker from "./registerServiceWorker";
import { BuilderXComponent } from "./../../";

const disableReactDevTools = (): void => {
  const noop = (): void => undefined;
  const DEV_TOOLS = (window as any).__REACT_DEVTOOLS_GLOBAL_HOOK__;

  if (typeof DEV_TOOLS === "object") {
    for (const [key, value] of Object.entries(DEV_TOOLS)) {
      DEV_TOOLS[key] = typeof value === "function" ? noop : null;
    }
  }
};

if (process.env.NODE_ENV === "production") {
  disableReactDevTools();
}

// if ("serviceWorker" in navigator) {
//   window.addEventListener("load", function () {
//     navigator.serviceWorker.register("/serviceWorker.js").then(function (registration) {
//       // Registration was successful
//       console.log("ServiceWorker registration successful with scope: ", registration.scope);
//     }, function (err) {
//       // registration failed :(
//       console.log("ServiceWorker registration failed: ", err);
//     });
//   });
// }
// all urls will be added to cache

// registerServiceWorker();

if (process.env.NODE_ENV !== "production") {
  ReactDOM.render(<App />, document.getElementById("root") as HTMLElement);
}
export { BuilderXComponent };
