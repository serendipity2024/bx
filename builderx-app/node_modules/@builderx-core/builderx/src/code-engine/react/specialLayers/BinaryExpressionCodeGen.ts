import { Context, ExtraParams } from "../types";
import LayerCodeGen from "../LayerCodeGen";
import { generateChildren, addImportToContext } from "../utils";
export default class BinaryExpressionCodeGen extends LayerCodeGen {
  context: Context;
  constructor(context: Context) {
    super();
    this.context = context;
  }

  getCondtionalASTFromJSON(conditionJSON: any, fileId: string): any {
    //
  }

  generate(json: any, extraParams: ExtraParams): string {
    // console.log("In binary expression is ", json);
    if (json.left.expression === "platform") {
      // console.log("Hanji hai expression to binary");
      this.context.isPlatformConditional = true;
    }
    if (extraParams && extraParams.textLiteral) {
      extraParams.textLiteral = false;
    }
    // addImportToContext(this.context, {
    //   import: {
    //     isDefaultImport: false,
    //     layerName: "Platform",
    //     packageName: "react-native"
    //   }
    // });
    return `
      ${this.context.baseCodeGen.generate(json.left, extraParams)}
        ${json.operator}
        ${this.context.baseCodeGen.generate(json.right, extraParams)}
      `;
  }
}
