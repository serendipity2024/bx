import { Context, ExtraParams } from "../types";
import { addImportToContext } from "../utils";
import LayerCodeGen from "../LayerCodeGen";

export default class SliderCodeGen extends LayerCodeGen {
  context: Context;
  constructor(context: Context) {
    super();
    this.context = context;
  }
  generate(json: any, extraParams: ExtraParams): string {
    this.context.styles[json.styleName] = {
      style: json.props.style,
      layerName: "ThirdParty"
    };

    addImportToContext(this.context, json);
    Object.assign(json.props, {
      min: json.props.minimumValue ? json.props.minimumValue : "0"
    });
    Object.assign(json.props, {
      max: json.props.maximumValue ? json.props.maximumValue : "100"
    });
    delete json.props.minimumValue;
    delete json.props.maximumValue;
    return `<Slider defaultValue={50} style={${this.generateJSLiteralCode(
      json.props.style,
      extraParams
    )}}/>`;
  }
}
