import { FlutterContext } from "../types";
import { generateWrappedChildren } from "../utils";
import LayerCodeGen from "../LayerCodeGen";

export default class ContainerCodeGen extends LayerCodeGen {
  context: FlutterContext;
  constructor(context: FlutterContext) {
    super();
    this.context = context;
  }

  generate = (json: any): string => {
    const ColorCode = this.generateColorRGBO(json.props.style.backgroundColor);

    const ChildrenCode = generateWrappedChildren(json, this.context);

    return `Container(
            child: ${ChildrenCode},
            decoration: BoxDecoration(
            color: ${ColorCode},
            ),
            ${this.generatePropertiesCode(json.props.style, [
              "height",
              "width"
            ])}
          )`;
  };
}
