import { DomainLayer, LogicalExpression } from "domain-x";
import { Layer, PathEvent } from "@builderx-core/designer";
import { forEach, find } from "lodash";
import { SessionEvent } from "event-manager";
import { Session, StageArtboard, Mutators } from "session";
import { globalRefMap } from "global-ref-map";

function applySideEffects(
  session: Session,
  key: "parent" | "sibling" | "grid" | "gutter" | "ruler",
  value: boolean
) {
  session.currentStage.canvas.executeFunction("setSnapConfig", {
    [key + "Snap"]: value
  });
}

export default function SetSnapGlue(session: Session, e: SessionEvent) {
  applySideEffects(session, e.payload.key, e.payload.value);
}
