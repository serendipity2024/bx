import { DomainLayer, DomainFile } from "domain-x";
import { Session } from "session";
import { SessionEvent } from "event-manager";

export default function setScopeVariablesPatch(
  session: Session,
  layer: DomainLayer | DomainFile
) {
  if (layer) {
    const event = new SessionEvent("setAllScopeVariables", {
      layer,
      variableObj: layer.scopeVariables
    });

    session.eventManager.dispatchEvent("setAllScopeVariables", event);
    layer.emit("scopeVariables");
  }
}
