import { DomainLayer, DomainFile } from "domain-x";
import { Session, StageArtboard } from "session";
import { SessionEvent } from "event-manager";

export default function removeStageArtboardPatch(
  session: Session,
  operation: any,
  stageArtboard: StageArtboard,
  stageId: string
) {
  let typeOfStage = operation.path.split("/")[1];
  typeOfStage = typeOfStage.slice(0, typeOfStage.indexOf(":::"));
  const stages = session[typeOfStage];
  const stage = stages.get(stageId);
  session.eventManager.dispatchEvent(
    "removeStageArtboard",
    new SessionEvent("removeStageArtboard", {
      stageArtboard,
      stage
    })
  );
}
