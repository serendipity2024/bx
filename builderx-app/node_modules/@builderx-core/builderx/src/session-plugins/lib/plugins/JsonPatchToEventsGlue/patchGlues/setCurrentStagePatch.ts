import { DomainLayer, DomainFile } from "domain-x";
import { Session } from "session";
import { SessionEvent } from "event-manager";

export default function setCurrentStagePatch(
  session: Session,
  operation: any,
  currentViewport: any,
  oldStageId: string
) {
  session.emit("currentStage");

  if (currentViewport) {
    session.eventManager.dispatchEvent(
      "setCurrentStage",
      new SessionEvent("setCurrentStage", {
        stage: operation.value,
        viewport: currentViewport,
        oldStageId
      })
    );
  }
}
