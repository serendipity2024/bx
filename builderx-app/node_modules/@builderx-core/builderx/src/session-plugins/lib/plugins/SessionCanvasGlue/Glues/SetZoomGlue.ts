import { SessionEvent } from "event-manager";
import { Session } from "session";

export function applySideEffects(session: Session, zoom: number) {
  const canvas = session.currentStage.canvas;
  if (canvas) {
    // const viewportWidth = canvas.getViewport().width;
    // const newZoomContainerWidth = zoom * canvas.layout.get("width");
    // if (newZoomContainerWidth > viewportWidth) {
    session.currentStage.canvas.executeFunction("setZoom", zoom);
    // }
  }
}

export default function SetZoomGlue(session: Session, e: SessionEvent) {
  applySideEffects(session, e.payload.zoom);
}
